<link rel="import" href="../backed/backed.html">

<template id="custom-tab">
  <style>
    :host {
      position: relative;
      display: inline-flex;
      width: 148px;
      height: 48px;
      align-items: center;
      justify-content: center;
      padding: 8px 12px;
      box-sizing: border-box;
      cursor: pointer;

      --svg-icon-size: 16px;
      --svg-icon-color: #EEE;
    }

    :host(.custom-selected) {
      border-bottom: 2px solid #00B8D4;
    }
  </style>
  <slot></slot>
</template>

<script>
  Backed(class CustomTab extends HTMLElement {

    static get properties() {
      return {
        slot: {
          value: 'tab',
          observer: '__slotChange__'
        }
      }
    }

    set name(value) {
      this.innerHTML = value;
    }

    created() {
      this._onMouseIn = this._onMouseIn.bind(this);
      this._onMouseOut = this._onMouseOut.bind(this);
    }

    ready() {
      this.addEventListener('mouseover', this._onMouseIn)
      this.addEventListener('mouseout', this._onMouseOut)
    }

    disconnected() {
      this.removeEventListener('mouseover', this._onMouseIn)
      this.removeEventListener('mouseout', this._onMouseOut)
    }

    __slotChange__({value}) {
      this.setAttribute('slot', value);
    }

    _onMouseIn() {
      this.classList.add('over');
    }

    _onMouseOut() {
      this.classList.remove('over');
    }

    _click() {
      this.dispatchEvent(new CustomEvent('custom-tab-close', {
        detail: this
      }));
    }
  });
</script>
